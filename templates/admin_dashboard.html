<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f4f6f9;
            min-height: 100vh;
        }

        .dashboard-card {
            background: #ffffff;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
        }

        .dashboard-title {
            font-weight: 600;
            color: #333;
        }

        .welcome-text {
            color: #666;
        }

        .menu-card {
            border-radius: 12px;
            background: #f8f9fa;
            padding: 20px;
        }

        .menu-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .menu-card li {
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
            font-weight: 500;
        }

        .menu-card li:last-child {
            border-bottom: none;
        }

        .table th {
            background-color: #f1f3f5;
            font-weight: 500;
        }

        .btn {
            border-radius: 8px;
        }

        .reject-input {
            max-width: 260px;
        }

        .logout-link {
            text-decoration: none;
            color: #dc3545;
            font-weight: 500;
        }

        .logout-link:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>

<nav class="navbar navbar-dark bg-primary mb-4 px-3 rounded-3">
    <span class="navbar-brand mb-0 h5">üõ† TripWise Administration</span>
    <a href="{{ url_for('logout') }}" class="btn btn-light btn-sm">Logout</a>
</nav>

<div class="container pb-5">

<div class="dashboard-card">

<!-- Welcome Header -->
<div class="mb-4">
    <h2 class="dashboard-title">Admin Dashboard</h2>
    <p class="welcome-text">System Management Center</p>
</div>

<!-- Menu Grid -->
<div class="row g-3 mb-4">

<div class="col-md-4">
    <div class="menu-card text-center">
        <h6>Users</h6>
        <a href="{{ url_for('admin_manage_users') }}" class="btn btn-outline-primary btn-sm">
            üë§ Manage Users
        </a>
    </div>
</div>

<div class="col-md-4">
    <div class="menu-card text-center">
        <h6>Reports</h6>
        <a href="{{ url_for('admin_reports') }}" class="btn btn-outline-primary btn-sm">
            üìä Analytics
        </a>
    </div>
</div>

</div>

<hr>

<!-- Pending Establishments -->
<h4 class="mt-3 mb-3">‚è≥ Pending Establishments</h4>

<div class="table-responsive">
<table class="table table-hover align-middle bg-white rounded-3 overflow-hidden">
<thead class="table-light">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Owner ID</th>
    <th class="text-center">Actions</th>
</tr>
</thead>

<tbody>

{% for est in establishments %}
<tr>
    <td>{{ est.name }}</td>
    <td class="text-capitalize">{{ est.type }}</td>
    <td>{{ est.owner_id }}</td>

<td class="text-center">

<a href="{{ url_for('approve_establishment', id=est.establishment_id) }}"
   class="btn btn-success btn-sm">
   ‚úÖ Approve
</a>

<form method="POST"
      action="{{ url_for('reject_establishment', id=est.establishment_id) }}"
      class="d-inline-flex gap-2 ms-2">

<input name="reason"
       placeholder="Reason"
       required
       class="form-control form-control-sm reject-input">

<button class="btn btn-danger btn-sm">
    ‚ùå Reject
</button>

</form>

</td>
</tr>

{% else %}

<tr>
<td colspan="4" class="text-center text-muted">
    No pending establishments.
</td>
</tr>

{% endfor %}

</tbody>
</table>
</div>

</div>
</div>

</body>

</html>